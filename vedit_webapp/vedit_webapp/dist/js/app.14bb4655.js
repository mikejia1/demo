(function(){"use strict";var e={6892:function(e,t,n){var s=n(9242),o=n(3396);function r(e,t,n,s,r,i){const a=(0,o.up)("svg-canvas");return(0,o.wg)(),(0,o.j4)(a)}var i=n(7139);const a=e=>((0,o.dD)("data-v-1904ed67"),e=e(),(0,o.Cn)(),e),l={class:"hello"},c={style:{"border-style":"solid"}},d=a((()=>(0,o._)("div",null," Upload an SVG file. ",-1))),u=a((()=>(0,o._)("div",null,[(0,o._)("br")],-1))),h={style:{"border-style":"solid"}},g=a((()=>(0,o._)("div",null," Import svg from a link. ",-1))),v=a((()=>(0,o._)("br",null,null,-1))),p={style:{"border-style":"solid"}},f=a((()=>(0,o._)("div",null,[(0,o.Uk)(" You can import multiple svgs at a time by supplying an API. Here is a sample: "),(0,o._)("p",{style:{"font-family":"courier"}},"https://mocki.io/v1/65edb577-03e3-49b6-a449-2da55050bd0f"),(0,o.Uk)(" Create your own API at "),(0,o._)("a",{href:"https://mocki.io"},"mock.io"),(0,o.Uk)(". ")],-1))),m=a((()=>(0,o._)("div",null,[(0,o._)("br")],-1))),w={id:"scene-container",style:{"border-style":"solid"},minHeight:"500"},b={style:{"border-style":"solid"},minHeight:"500"},y=["innerHTML"];function _(e,t,n,r,a,_){const k=(0,o.up)("the-canvas");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",l,[(0,o._)("h1",null,(0,i.zw)(n.msg),1),(0,o._)("div",c,[d,(0,o._)("input",{type:"file",ref:"doc",onChange:t[0]||(t[0]=e=>_.readFile())},null,544),u]),(0,o._)("div",h,[g,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.url=t)},null,512),[[s.nr,e.url]]),(0,o._)("input",{type:"button",value:"submit url link",onClick:t[2]||(t[2]=e=>_.readUrl())}),(0,o._)("div",null,[(0,o.Uk)((0,i.zw)(e.content),1),v])]),(0,o._)("div",p,[f,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.api=t)},null,512),[[s.nr,e.api]]),(0,o._)("input",{type:"button",value:"submit API link",onClick:t[4]||(t[4]=e=>_.fetchAPI())}),m]),(0,o._)("input",{type:"button",value:"rotate svg ordering",onClick:t[5]||(t[5]=e=>_.rotateOrder())})]),(0,o._)("div",w,[(0,o.Wm)(k)]),(0,o._)("div",b,[((0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",id:"canvas",viewBox:"0 0 600 400",onLoad:t[6]||(t[6]=(...e)=>_.makeDraggable&&_.makeDraggable(...e))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.svgFiles,((e,t)=>((0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",key:t,innerHTML:e},null,8,y)))),128))],32))])],64)}n(7658),n(541);const k={ref:"canvas"};function x(e,t,n,s,r,i){return(0,o.wg)(),(0,o.iD)("div",k,null,512)}var C=n(1114),T=n(2990),S={name:"TheCanvas",data:function(){return{speed:.01}},created:function(){this.scene=new C.xsS,this.camera=new C.cPb(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new C.CP7({antialias:!0}),this.light=new C.Ox3("hsl(0, 100%, 100%)");const e=new C.Mig(4210752),t=new C.DvJ(1,1,1);var s=new C.dpR;const o='<svg xmlns="http://www.w3.org/2000/svg">< path class="draggable" stroke = "#2bad7b" stroke - width="0.5" fill = "none" d = "M1 5C5 1 5 9 9 5" transform = "translate(20)" /> </svg >';this.svgToPng(o,(e=>{console.log("finished processing image!"),console.log(e)})),console.log(n(5397));const r=n(5397);var i=[r,r,r,r,r,r].map((e=>new C.YBo({map:s.load(e)})));this.cube=new C.Kj0(t,i),this.axes=new C.y8_(5),this.scene.add(this.camera),this.scene.add(this.light),this.scene.add(e),this.scene.add(this.cube),this.scene.add(this.axes),this.renderer.setSize(window.innerWidth,window.innerHeight),this.light.position.set(0,0,10),this.camera.position.z=5,this.scene.background=new C.Ilk("hsl(0, 100%, 100%)")},mounted:function(){this.$refs.canvas.appendChild(this.renderer.domElement),this.controls=new T.Z(this.camera,this.renderer.domElement),this.controls.rotateSpeed=5,this.controls.zoomSpeed=5,this.controls.panSpeed=.8,this.controls.noZoom=!1,this.controls.noPan=!1,this.controls.staticMoving=!0,this.controls.dynamicDampingFactor=.3,this.animate()},methods:{animate:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera),this.cube.rotation.y+=this.speed,this.controls.update()},svgToPng:function(e,t){console.log("svgToPng");const n=URL.createObjectURL(new Blob([e],{type:"image/svg+xml"}));this.svgUrlToPng(n,(e=>{console.log("svgToPng callback"),t(e),URL.revokeObjectURL(n)}))},svgUrlToPng:function(e,t){console.log("svgUrlToPng");const n=document.createElement("img");n.onload=()=>{console.log("svgImage.onload");const e=document.createElement("preview");e.width=n.clientWidth,e.height=n.clientHeight;const s=e.getContext("2d");s.drawImage(n,0,0);const o=e.toDataURL("image/png");t(o),document.body.removeChild("preview")},n.src=e,document.body.appendChild(n)}},computed:{rotate:function(){return""===this.speed?0:this.speed}}},U=n(89);const O=(0,U.Z)(S,[["render",x]]);var P=O,A={name:"SvgCanvas",components:{TheCanvas:P},props:{msg:String},data:()=>({file:null,content:null,url:null,api:null,classCounter:0,svgFiles:['<rect class="draggable" fill = "#b17bff" x = "4" y = "1" width = "30" height = "50" transform = "translate(10, 0)" />','<ellipse class="draggable" fill="#ff00af" cx="50" cy="50" rx="30" ry="20" transform="translate(10, 0)" />']}),methods:{readFile(){this.file=this.$refs.doc.files[0];const e=new FileReader;this.file.name.includes(".svg")?(this.content="check the console for file output",e.onload=e=>{this.addToSvgCanvas(e.target.result)},e.onerror=e=>console.log(e),e.readAsText(this.file)):this.content="please select an svg file"},readUrl(){fetch("https://proxy.cors.sh/"+this.url).then((e=>e.blob())).then((e=>{e.text().then((e=>{this.addToSvgCanvas(e)}))}))},addToSvgCanvas(e){this.svgFiles.push(this.processRawSvg(e))},processRawSvg(e){const t=e.match(/viewBox=".*?"/g),n=e.match(/width=".*?"/g),s=e.match(/height=".*?"/g);null!=t&&(e=e.replace(t,"")),null!=n&&(e=e.replace(n,"")),null!=s&&(e=e.replace(s,""));const o=e.match(/class=".*?"/g),r=[...new Set(o)];for(var i=0;i<r.length;i++){const t=r[i].replace("class=","").replaceAll('"',""),n="newClass-"+this.classCounter;e=e.replaceAll('"'+t+'"','"'+n+'"'),e=e.replaceAll(t,n),console.log(e),this.classCounter++}return e},fetchAPI(){fetch(this.api).then((e=>e.json())).then((e=>{e.assets.forEach((e=>{this.url=e.url,this.readUrl(),this.url=null}))}))},rotateOrder(){var e=this.svgFiles.pop();this.svgFiles.unshift(e)},makeDraggable(e){var t,n,s,o=e.target;function r(e){var t=o.getScreenCTM();return e.touches&&(e=e.touches[0]),{x:(e.clientX-t.e)/t.a,y:(e.clientY-t.f)/t.d}}function i(e){if(t=e.target,"canvas"!=t.id){n=r(e);var i=t.transform.baseVal;if(0===i.length||i.getItem(0).type!==SVGTransform.SVG_TRANSFORM_TRANSLATE){var a=o.createSVGTransform();a.setTranslate(0,0),t.transform.baseVal.insertItemBefore(a,0)}s=i.getItem(0),n.x-=s.matrix.e,n.y-=s.matrix.f}}function a(e){if(t){e.preventDefault();var o=r(e);s.setTranslate(o.x-n.x,o.y-n.y)}}function l(){t=!1,s=!1,n=!1}console.log(o+"makeDraggable"),o.addEventListener("mousedown",i),o.addEventListener("mousemove",a),o.addEventListener("mouseup",l),o.addEventListener("mouseleave",l)}}};const D=(0,U.Z)(A,[["render",_],["__scopeId","data-v-1904ed67"]]);var I=D,L={name:"App",components:{SvgCanvas:I}};const F=(0,U.Z)(L,[["render",r]]);var R=F;(0,s.ri)(R).mount("#app")},5397:function(e,t,n){e.exports=n.p+"img/gorrila.a22e7c34.png"}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,s,o,r){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],r=e[d][2];for(var a=!0,l=0;l<s.length;l++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(a=!1,r<i&&(i=r));if(a){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,r,i=s[0],a=s[1],l=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)var d=l(n)}for(t&&t(s);c<i.length;c++)r=i[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},s=self["webpackChunkvedit_webapp"]=self["webpackChunkvedit_webapp"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(6892)}));s=n.O(s)})();
//# sourceMappingURL=app.14bb4655.js.map